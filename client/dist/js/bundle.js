!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="./client/src/bundles/bundle.js")}({"./client/src/boot/index.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n("./client/src/boot/registerReducers.js"),o=r(i),a=n("./client/src/boot/registerComponents.js"),l=r(a),u=n("./client/src/boot/registerQueries.js"),c=r(u);document.addEventListener("DOMContentLoaded",function(){(0,l.default)(),(0,c.default)(),(0,o.default)()})},"./client/src/boot/registerComponents.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n("./client/src/components/LinkPicker/LinkPicker.js"),l=r(a),u=n("./client/src/components/LinkField/LinkField.js"),c=r(u),s=n("./client/src/components/LinkModal/LinkModal.js"),d=r(s),f=n("./client/src/components/LinkModal/FileLinkModal.js"),p=r(f),y=function(){o.default.component.registerMany({LinkPicker:l.default,LinkField:c.default,"LinkModal.FormBuilderModal":d.default,"LinkModal.InsertMediaModal":p.default})};t.default=y},"./client/src/boot/registerQueries.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n("./client/src/state/linkTypes/readLinkTypes.js"),l=r(a),u=n("./client/src/state/linkDescription/readLinkDescription.js"),c=r(u),s=function(){o.default.query.register("readLinkTypes",l.default),o.default.query.register("readLinkDescription",c.default)};t.default=s},"./client/src/boot/registerReducers.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){};t.default=r},"./client/src/bundles/bundle.js":function(e,t,n){"use strict";n("./client/src/boot/index.js"),n("./client/src/entwine/JsonField.js")},"./client/src/components/LinkField/LinkField.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=n(0),u=r(l),c=n(13),s=n(10),d=n(1),f=n(6),p=r(f),y=function(e){var t=e.id,n=e.loading,r=e.Loading,o=e.data,c=e.LinkPicker,s=e.onChange,f=e.types,p=e.linkDescription;if(n)return u.default.createElement(r,null);var y=(0,l.useState)(!1),k=a(y,2),m=k[0],v=k[1],g=(0,l.useState)(""),_=a(g,2),h=_[0],j=_[1],L=function(e){"function"==typeof s&&s(e,{id:t,value:{}})},b=o.typeKey,O=f[b],M=h?f[h]:O,P={title:o?o.Title:"",link:O?{type:O,title:o.Title,description:p}:void 0,onEdit:function(){v(!0)},onClear:L,onSelect:function(e){j(e),v(!0)},types:Object.values(f)},E=function(e,n,r){var o=(e.SecurityID,e.action_insert,i(e,["SecurityID","action_insert"]));return"function"==typeof s&&s(event,{id:t,value:o}),v(!1),j(""),Promise.resolve()},C={type:M,editing:m,onSubmit:E,onClosed:function(){v(!1)},data:o},S=M?M.handlerName:"FormBuilderModal",T=(0,d.loadComponent)("LinkModal."+S);return u.default.createElement(l.Fragment,null,u.default.createElement(c,P),u.default.createElement(T,C))},k=function(e){return function(t){var n=t.data,r=t.value,a=i(t,["data","value"]),l=r||n;return"string"==typeof l&&(l=JSON.parse(l)),u.default.createElement(e,o({dataStr:JSON.stringify(l)},a,{data:l}))}};t.default=(0,c.compose)((0,d.inject)(["LinkPicker","Loading"]),(0,d.injectGraphql)("readLinkTypes"),k,(0,d.injectGraphql)("readLinkDescription"),s.withApollo,p.default)(y)},"./client/src/components/LinkModal/FileLinkModal.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(){return{}}function a(e){return{actions:{initModal:function(){return e({type:"INIT_FORM_SCHEMA_STACK",payload:{formSchema:{type:"insert-link",nextType:"admin"}}})},reset:function(){return e({type:"RESET"})}}}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),c=r(u),s=n(8),d=r(s),f=n(12),p=function(e){var t=e.type,n=e.editing,r=e.data,o=e.actions,a=e.onSubmit,s=i(e,["type","editing","data","actions","onSubmit"]);if(!t)return!1;(0,u.useEffect)(function(){n?o.initModal():o.reset()},[n]);var f=r?{ID:r.FileID,Description:r.Title,TargetBlank:!!r.OpenInNew}:{},p=function(e){var n=e.ID,r=e.Description,i=e.TargetBlank;return a({FileID:n,Title:r,OpenInNew:i,typeKey:t.key},"",function(){})};return c.default.createElement(d.default,l({isOpen:n,type:"insert-link",title:!1,bodyClassName:"modal__dialog",className:"insert-link__dialog-wrapper--internal",fileAttributes:f,onInsert:p},s))};t.default=(0,f.connect)(o,a)(p)},"./client/src/components/LinkModal/LinkModal.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(0),l=r(a),u=n(7),c=r(u),s=n(9),d=r(s),f=n(16),p=r(f),y=n(5),k=r(y),m=function(e,t){var n=k.default.getSection("SilverStripe\\Admin\\LeftAndMain").form.DynamicLink.schemaUrl,r=d.default.parse(n),i=p.default.parse(r.query);return i.key=e,t&&(i.data=JSON.stringify(t)),d.default.format(o({},r,{search:p.default.stringify(i)}))},v=function(e){var t=e.type,n=e.editing,r=e.data,a=i(e,["type","editing","data"]);return!!t&&l.default.createElement(c.default,o({title:t.title,isOpen:n,schemaUrl:m(t.key,r),identifier:"Link.EditingLinkInfo"},a))};t.default=v},"./client/src/components/LinkPicker/LinkPicker.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=r(o),l=n(2),u=r(l),c=n(14),s=r(c),d=n("./client/src/components/LinkPicker/LinkPickerMenu.js"),f=r(d),p=n("./client/src/components/LinkPicker/LinkPickerTitle.js"),y=r(p),k=function(e){var t=e.types,n=e.onSelect,r=e.link,o=e.onEdit,l=e.onClear;return a.default.createElement("div",{className:(0,s.default)("link-picker","form-control",{"link-picker--selected":r})},void 0===r&&a.default.createElement(f.default,{types:t,onSelect:n}),r&&a.default.createElement(y.default,i({},r,{onClear:l,onClick:function(){return r&&o&&o(r)}})))};k.propTypes=i({},f.default.propTypes,{link:u.default.shape(y.default.propTypes),onEdit:u.default.func,onClear:u.default.func}),t.Component=k,t.default=k},"./client/src/components/LinkPicker/LinkPickerMenu.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(4),a=r(o),l=n(0),u=r(l),c=n(2),s=r(c),d=n(3),f=n("./client/src/types/LinkType.js"),p=r(f),y=function(e){var t=e.types,n=e.onSelect,r=(0,l.useState)(!1),o=i(r,2),c=o[0],s=o[1],f=function(){return s(function(e){return!e})};return u.default.createElement(d.Dropdown,{isOpen:c,toggle:f,className:"link-picker__menu"},u.default.createElement(d.DropdownToggle,{className:"link-picker__menu-toggle font-icon-link",caret:!0},a.default._t("Link.ADD_LINK","Add Link")),u.default.createElement(d.DropdownMenu,null,t.map(function(e){var t=e.key,r=e.title;return u.default.createElement(d.DropdownItem,{key:t,onClick:function(){return n(t)}},r)})))};y.propTypes={types:s.default.arrayOf(p.default).isRequired,onSelect:s.default.func.isRequired},t.default=y},"./client/src/components/LinkPicker/LinkPickerTitle.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(0),l=r(a),u=n(2),c=r(u),s=n("./client/src/types/LinkType.js"),d=r(s),f=n(3),p=function(e){return function(t){t.nativeEvent.stopImmediatePropagation(),t.preventDefault(),t.nativeEvent.preventDefault(),t.stopPropagation(),e&&e()}},y=function(e){var t=e.title,n=e.type,r=e.description,i=e.onClear,a=e.onClick;return l.default.createElement(f.Button,{className:"link-picker__link font-icon-link",color:"secondary",onClick:p(a)},l.default.createElement("div",{className:"link-picker__link-detail"},l.default.createElement("div",{className:"link-picker__title"},t),l.default.createElement("small",{className:"link-picker__type"},n.title,": ",l.default.createElement("span",{className:"link-picker__url"},r))),l.default.createElement(f.Button,{className:"link-picker__clear",color:"link",onClick:p(i)},o.default._t("Link.CLEAR","Clear")))};y.propTypes={title:c.default.string.isRequired,type:d.default,description:c.default.string,onClear:c.default.func,onClick:c.default.func},t.default=y},"./client/src/entwine/JsonField.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(15),a=r(o),l=n(0),u=r(l),c=n(11),s=r(c),d=n(1);a.default.entwine("ss",function(e){e(".js-injector-boot .entwine-jsonfield").entwine({Component:null,onmatch:function(){var e=this.closest(".cms-content").attr("id"),t=e?{context:e}:{},n=this.data("schema-component"),r=(0,d.loadComponent)(n,t);this.setComponent(r),this._super(),this.refresh()},refresh:function(){var e=this.getProps(),t=this.getComponent();s.default.render(u.default.createElement(t,i({},e,{noHolder:!0})),this[0])},handleChange:function(t,n){var r=(n.id,n.value),i=e(this).data("field-id");e("#"+i).val(JSON.stringify(r)).trigger("change"),this.refresh()},getProps:function(){var t=e(this).data("field-id"),n=e("#"+t).val();return{id:t,value:n?JSON.parse(n):void 0,onChange:this.handleChange.bind(this)}},onunmatch:function(){s.default.unmountComponentAtNode(this[0])}})})},"./client/src/state/linkDescription/readLinkDescription.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i={props:function(e){var t=e.data,n=t.error,r=t.readLinkDescription,i=t.loading,o=n&&n.graphQLErrors&&n.graphQLErrors.map(function(e){return e.message});return{loading:i,linkDescription:r?r.description:"",graphQLErrors:o}}},o=r.graphqlTemplates.READ,a={apolloConfig:i,templateName:o,pluralName:"LinkDescription",pagination:!1,params:{dataStr:"String!"},args:{root:{dataStr:"dataStr"}},fields:["description"]};t.default=a},"./client/src/state/linkTypes/readLinkTypes.js":function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a={props:function(e){var t=e.data,n=t.error,o=t.readLinkTypes,a=t.loading,l=n&&n.graphQLErrors&&n.graphQLErrors.map(function(e){return e.message});return{loading:a,types:o?o.reduce(function(e,t){return i({},e,r({},t.key,t))},{}):{},graphQLErrors:l}}},l=o.graphqlTemplates.READ,u={apolloConfig:a,templateName:l,pluralName:"LinkTypes",pagination:!1,params:{keys:"[ID]"},args:{root:{keys:"keys"}},fields:["key","title","handlerName"]};t.default=u},"./client/src/types/LinkType.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=i.default.shape({key:i.default.string.isRequired,title:i.default.string.isRequired});t.default=o},0:function(e,t){e.exports=React},1:function(e,t){e.exports=Injector},10:function(e,t){e.exports=ReactApollo},11:function(e,t){e.exports=ReactDom},12:function(e,t){e.exports=ReactRedux},13:function(e,t){e.exports=Redux},14:function(e,t){e.exports=classnames},15:function(e,t){e.exports=jQuery},16:function(e,t){e.exports=qs},2:function(e,t){e.exports=PropTypes},3:function(e,t){e.exports=Reactstrap},4:function(e,t){e.exports=i18n},5:function(e,t){e.exports=Config},6:function(e,t){e.exports=FieldHolder},7:function(e,t){e.exports=FormBuilderModal},8:function(e,t){e.exports=InsertMediaModal},9:function(e,t){e.exports=NodeUrl}});